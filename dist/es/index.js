import{ref as e,onBeforeUnmount as t,pushScopeId as n,popScopeId as o,openBlock as r,createBlock as i,createVNode as a,renderSlot as l,withScopeId as s,toRaw as d,defineComponent as c,toRefs as u,provide as p,onMounted as v,inject as m,onUnmounted as g,watch as h}from"vue";function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function w(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}var k;!function(e){e[e.Continue=100]="Continue",e[e.Success=200]="Success",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NoContent=204]="NoContent",e[e.MovedPermenantly=301]="MovedPermenantly",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.NotModified=304]="NotModified",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.IAmATeapot=418]="IAmATeapot",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.AuthenticationRequired=511]="AuthenticationRequired"}(k||(k={})),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});const C="https://maps.googleapis.com/maps/api/js";async function D(e,t){return P(e)||await async function(e,t,n={}){if(P(e))return void console.info(`Attempt to add script tag for the "${e}" library in Google Maps ignored as this tag already exists in the DOM${t?" [ "+t+"]":""}`);const o=async(t=2e3)=>{throw await async function(e){return new Promise((t=>setTimeout(t,e)))}(t),new Error(`Timed out waiting for Google API to load [ ${e} / ${t} ]`)},r=()=>{var n=document.createElement("script");return n.id=`google-maps-${e}-js`,n.src=function(e,t,n=!0){let o=`${C}?libraries=${e}&sensors=false`;t&&(o=`${o}&key=${t}`);n&&(o=`${o}&callback=${e}LoaderCallback`);return o}(e,t),document.querySelector("head").appendChild(n),new Promise((t=>{window[`${e}LoaderCallback`]=()=>{t()}}))};return Promise.race(n.timeout?[o(n.timeout),r()]:[r()])}(e,t),window.google}function P(e,t){const n=document.querySelector(`#google-maps-${e}-js`);return Boolean(n)}var x=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","heading_changed","idle","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","resize","rightclick","tilesloaded","tilt_changed","zoom_changed"],L=["animation_changed","click","dblclick","rightclick","dragstart","dragend","drag","mouseover","mousedown","mouseup","draggable_changed","clickable_changed","cursor_changed","flat_changed","rightclick","zindex_changed","icon_changed","position_changed","shape_changed","title_changed","visible_changed"],A=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],$=A,I=A.concat(["bounds_changed"]),S=A.concat(["center_changed","radius_changed"]),O=["closeclick","content_changed","domready","position_changed","zindex_changed"],T=e(null),M=e(null),j=function(){return{map:T,api:M}},N={name:"google-map",props:{apiKey:String,backgroundColor:String,center:Object,clickableIcons:{type:Boolean,default:void 0},controlSize:Number,disableDefaultUi:{type:Boolean,default:void 0},disableDoubleClickZoom:{type:Boolean,default:void 0},draggable:{type:Boolean,default:void 0},draggableCursor:String,draggingCursor:String,fullscreenControl:{type:Boolean,default:void 0},fullscreenControlPosition:String,gestureHandling:String,heading:Number,keyboardShortcuts:{type:Boolean,default:void 0},mapTypeControl:{type:Boolean,default:void 0},mapTypeControlOptions:Object,mapTypeId:{type:[Number,String]},maxZoom:Number,minZoom:Number,noClear:{type:Boolean,default:void 0},panControl:{type:Boolean,default:void 0},panControlPosition:String,restriction:Object,rotateControl:{type:Boolean,default:void 0},rotateControlPosition:String,scaleControl:{type:Boolean,default:void 0},scaleControlStyle:Number,scrollwheel:{type:Boolean,default:void 0},streetView:Object,streetViewControl:{type:Boolean,default:void 0},streetViewControlPosition:String,styles:Array,tilt:Number,zoom:Number,zoomControl:{type:Boolean,default:void 0},zoomControlPosition:String},setup:function(n,o){var r=o.emit,i=e(null),a=e(!1),l=j(),s=l.map,d=l.api,c=function(){var e,t,o,r,i,a={backgroundColor:n.backgroundColor,center:n.center,clickableIcons:n.clickableIcons,controlSize:n.controlSize,disableDefaultUI:n.disableDefaultUi,disableDoubleClickZoom:n.disableDoubleClickZoom,draggable:n.draggable,draggableCursor:n.draggableCursor,draggingCursor:n.draggingCursor,fullscreenControl:n.fullscreenControl,fullscreenControlOptions:n.fullscreenControlPosition?{position:null===(e=d.value)||void 0===e?void 0:e.ControlPosition[n.fullscreenControlPosition]}:{},gestureHandling:n.gestureHandling,heading:n.heading,keyboardShortcuts:n.keyboardShortcuts,mapTypeControl:n.mapTypeControl,mapTypeControlOptions:n.mapTypeControlOptions,mapTypeId:n.mapTypeId,maxZoom:n.maxZoom,minZoom:n.minZoom,noClear:n.noClear,panControl:n.panControl,panControlOptions:n.panControlPosition?{position:null===(t=d.value)||void 0===t?void 0:t.ControlPosition[n.panControlPosition]}:{},restriction:n.restriction,rotateControl:n.rotateControl,rotateControlOptions:n.rotateControlPosition?{position:null===(o=d.value)||void 0===o?void 0:o.ControlPosition[n.rotateControlPosition]}:{},scaleControl:n.scaleControl,scaleControlOptions:n.scaleControlStyle?{style:n.scaleControlStyle}:{},scrollwheel:n.scrollwheel,streetView:n.streetView,streetViewControl:n.streetViewControl,streetViewControlOptions:n.streetViewControlPosition?{position:null===(r=d.value)||void 0===r?void 0:r.ControlPosition[n.streetViewControlPosition]}:{},styles:n.styles,tilt:n.tilt,zoom:n.zoom,zoomControl:n.zoomControl,zoomControlOptions:n.zoomControlPosition?{position:null===(i=window.$mapApi)||void 0===i?void 0:i.ControlPosition[n.zoomControlPosition]}:{}};return Object.keys(a).forEach((function(e){return void 0===a[e]&&delete a[e]})),a};t((function(){var e;s.value&&(null===(e=window.$mapApi)||void 0===e||e.event.clearInstanceListeners(window.$mapInstance))}));return"undefined"!=typeof window&&D("places",n.apiKey).then((function(e){var t=e.maps;if(window.$mapInstance&&window.$mapDom){document.querySelector("#google-map").appendChild(window.$mapDom),window.$mapInstance.setOptions(c()),r("map-ready",{map:window.$mapInstance,api:window.$mapApi}),console.log("复用地图实例")}else{var n=(window.$mapApi=b({},t)).Map;window.$mapInstance=new n(document.querySelector("#google-map"),c());var o=document.querySelector("#google-map").childNodes[0];o.style.overflow="hidden",window.$mapDom=o,window.$markerArray={},console.log("地图初始化成功"),s.value=window.$mapInstance,d.value=window.$mapApi,x.forEach((function(e){var t;null===(t=window.$mapInstance)||void 0===t||t.addListener(e,(function(){return r(e)}))})),a.value=!0,r("map-ready",{map:window.$mapInstance,api:window.$mapApi})}})),{mapRef:i,ready:a,map:s,api:d,resetMap:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];window.$mapInstance&&(Object.keys(window.$markerArray).forEach((function(e){var t,n=w(window.$markerArray[e]);try{for(n.s();!(t=n.n()).done;){var o=t.value;try{window.$mapApi.event.clearInstanceListeners(o),o.setMap(null)}catch(e){console.warn(e)}}}catch(e){n.e(e)}finally{n.f()}delete window.$markerArray[e]})),e&&Object.keys(window.$mapApi.ControlPosition).forEach((function(e){window.$mapInstance.controls[window.$mapApi.ControlPosition[e]].clear()})))}}}},z=s("data-v-4ba0fc32");n("data-v-4ba0fc32");var B={ref:"mapRef",id:"google-map"};o();var q=z((function(e,t,n,o,s,d){return r(),i("div",B,[a("div",null,[l(e.$slots,"default")])],512)}));function E(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}E("\n#google-map[data-v-4ba0fc32] {\n  position: relative;\n  width: 100%;\n}\n"),N.render=q,N.__scopeId="data-v-4ba0fc32";var R=function(n,o,r,i,a){var l=e(null),s=null,c=j(),u=c.map,p=c.api;return u.value&&p.value&&(l.value=s=new window.$mapApi[n](b(b({},d(r)),{},{map:window.$mapInstance})),o.forEach((function(e){var t;null===(t=s)||void 0===t||t.addListener(e,(function(t){return i(e,t,s,a)}))})),window.$markerArray[n]?window.$markerArray[n].push(s):window.$markerArray[n]=[s]),t((function(){var e;s&&(null===(e=window.$mapApi)||void 0===e||e.event.clearInstanceListeners(s),s.setMap(null),window.$markerArray[n]&&window.$markerArray[n].length>0&&window.$markerArray[n].splice(a,1))})),{component:l}},V=c({props:{options:{type:Object,required:!0},index:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,o=u(e),r=o.options,i=o.index;return{marker:R("Marker",L,d(r.value),n,i)}},render:function(){return null}});
/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Z(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e}var W={name:"slot-marker",props:{options:{default:function(){return{}},type:Object},index:{default:0,type:Number}},setup:function(n,o){var r=u(n),i=r.options,a=r.index,l=e(null),s=e(null),d=e(null),c=null;p("$marker",{marker:s});var m=function(e){if(window.$mapInstance&&window.$mapApi){o.slots.labelContent&&1===o.slots.labelContent.length&&o.slots.labelContent[0]&&(i.value=Object.assign({},i.value,{labelContent:d.value}));var t=Object.assign(Object.assign({},i.value),{map:window.$mapInstance}),n=d.value;n.parentNode.removeChild(n);var r=function(e){function t(e,n,o){this.marker_=e,this.handCursorURL_=e.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.addEventListener("selectstart",(function(){return!1})),this.eventDiv_.addEventListener("dragstart",(function(){return!1})),this.crossDiv_=t.getSharedCross(n)}function n(n){(n=n||{}).labelContent=n.labelContent||"",n.labelAnchor=n.labelAnchor||new e.Point(0,0),n.labelClass=n.labelClass||"markerLabels",n.labelStyle=n.labelStyle||{},n.labelInBackground=n.labelInBackground||!1,void 0===n.labelVisible&&(n.labelVisible=!0),void 0===n.raiseOnDrag&&(n.raiseOnDrag=!0),void 0===n.clickable&&(n.clickable=!0),void 0===n.draggable&&(n.draggable=!1),void 0===n.optimized&&(n.optimized=!1),n.crossImage=n.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",n.handCursor=n.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",n.optimized=!1,this.label=new t(this,n.crossImage,n.handCursor),e.Marker.apply(this,arguments)}return Z(t,e.OverlayView),t.getSharedCross=function(e){var n;return void 0===t.getSharedCross.crossDiv&&((n=document.createElement("img")).style.cssText="position: absolute; z-index: 1000002; display: none;",n.style.marginLeft="-8px",n.style.marginTop="-9px",n.src=e,t.getSharedCross.crossDiv=n),t.getSharedCross.crossDiv},t.prototype.onAdd=function(){var n,o,r,i,a,l,s,d=this,c=!1,u=!1,p="url("+this.handCursorURL_+")",v=function(e){e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},m=function(){d.marker_.setAnimation(null)};this.getPanes().markerLayer.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),void 0===t.getSharedCross.processed&&(this.getPanes().markerLayer.appendChild(this.crossDiv_),t.getSharedCross.processed=!0),this.listeners_=[e.event.addDomListener(this.eventDiv_,"mouseover",(function(t){(d.marker_.getDraggable()||d.marker_.getClickable())&&(this.style.cursor="pointer",e.event.trigger(d.marker_,"mouseover",t))})),e.event.addDomListener(this.eventDiv_,"mouseout",(function(t){!d.marker_.getDraggable()&&!d.marker_.getClickable()||u||(this.style.cursor=d.marker_.getCursor(),e.event.trigger(d.marker_,"mouseout",t))})),e.event.addDomListener(this.eventDiv_,"mousedown",(function(t){u=!1,d.marker_.getDraggable()&&(c=!0,this.style.cursor=p),(d.marker_.getDraggable()||d.marker_.getClickable())&&(e.event.trigger(d.marker_,"mousedown",t),v(t))})),e.event.addDomListener(document,"mouseup",(function(t){var o;if(c&&(c=!1,d.eventDiv_.style.cursor="pointer",e.event.trigger(d.marker_,"mouseup",t)),u){if(a){(o=d.getProjection().fromLatLngToDivPixel(d.marker_.getPosition())).y+=20,d.marker_.setPosition(d.getProjection().fromDivPixelToLatLng(o));try{d.marker_.setAnimation(e.Animation.BOUNCE),setTimeout(m,1406)}catch(e){}}d.crossDiv_.style.display="none",d.marker_.setZIndex(n),i=!0,u=!1,t.latLng=d.marker_.getPosition(),e.event.trigger(d.marker_,"dragend",t)}})),e.event.addListener(d.marker_.getMap(),"mousemove",(function(t){var i;c&&(u?(t.latLng=new e.LatLng(t.latLng.lat()-o,t.latLng.lng()-r),i=d.getProjection().fromLatLngToDivPixel(t.latLng),a&&(d.crossDiv_.style.left=i.x+"px",d.crossDiv_.style.top=i.y+"px",d.crossDiv_.style.display="",i.y-=20),d.marker_.setPosition(d.getProjection().fromDivPixelToLatLng(i)),a&&(d.eventDiv_.style.top=i.y+20+"px"),e.event.trigger(d.marker_,"drag",t)):(o=t.latLng.lat()-d.marker_.getPosition().lat(),r=t.latLng.lng()-d.marker_.getPosition().lng(),n=d.marker_.getZIndex(),l=d.marker_.getPosition(),s=d.marker_.getMap().getCenter(),a=d.marker_.get("raiseOnDrag"),u=!0,d.marker_.setZIndex(1e6),t.latLng=d.marker_.getPosition(),e.event.trigger(d.marker_,"dragstart",t)))})),e.event.addDomListener(document,"keydown",(function(t){u&&27===t.keyCode&&(a=!1,d.marker_.setPosition(l),d.marker_.getMap().setCenter(s),e.event.trigger(document,"mouseup",t))})),e.event.addDomListener(this.eventDiv_,"click",(function(t){(d.marker_.getDraggable()||d.marker_.getClickable())&&(i?i=!1:(e.event.trigger(d.marker_,"click",t),v(t)))})),e.event.addDomListener(this.eventDiv_,"dblclick",(function(t){(d.marker_.getDraggable()||d.marker_.getClickable())&&(e.event.trigger(d.marker_,"dblclick",t),v(t))})),e.event.addListener(this.marker_,"dragstart",(function(e){u||(a=this.get("raiseOnDrag"))})),e.event.addListener(this.marker_,"drag",(function(e){u||a&&(d.setPosition(20),d.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))})),e.event.addListener(this.marker_,"dragend",(function(e){u||a&&d.setPosition(0)})),e.event.addListener(this.marker_,"position_changed",(function(){d.setPosition()})),e.event.addListener(this.marker_,"zindex_changed",(function(){d.setZIndex()})),e.event.addListener(this.marker_,"visible_changed",(function(){d.setVisible()})),e.event.addListener(this.marker_,"labelvisible_changed",(function(){d.setVisible()})),e.event.addListener(this.marker_,"title_changed",(function(){d.setTitle()})),e.event.addListener(this.marker_,"labelcontent_changed",(function(){d.setContent()})),e.event.addListener(this.marker_,"labelanchor_changed",(function(){d.setAnchor()})),e.event.addListener(this.marker_,"labelclass_changed",(function(){d.setStyles()})),e.event.addListener(this.marker_,"labelstyle_changed",(function(){d.setStyles()}))]},t.prototype.onRemove=function(){var t;if(this.labelDiv_.parentNode&&(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_)),this.listeners_)for(t=0;t<this.listeners_.length;t++)e.event.removeListener(this.listeners_[t])},t.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},t.prototype.setContent=function(){var e=this.marker_.get("labelContent");if(void 0===e.nodeType)this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML;else{for(;this.labelDiv_.lastChild;)this.labelDiv_.removeChild(this.labelDiv_.lastChild);for(;this.eventDiv_.lastChild;)this.eventDiv_.removeChild(this.eventDiv_.lastChild);this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.eventDiv_.appendChild(e)}},t.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},t.prototype.setStyles=function(){var e,t;for(e in this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",t=this.marker_.get("labelStyle"))t.hasOwnProperty(e)&&(this.labelDiv_.style[e]=t[e],this.eventDiv_.style[e]=t[e]);this.setMandatoryStyles()},t.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden",void 0!==this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},t.prototype.setAnchor=function(){var e=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-e.x+"px",this.labelDiv_.style.marginTop=-e.y+"px",this.eventDiv_.style.marginLeft=-e.x+"px",this.eventDiv_.style.marginTop=-e.y+"px"},t.prototype.setPosition=function(e){var t=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());void 0===e&&(e=0),this.labelDiv_.style.left=Math.round(t.x)+"px",this.labelDiv_.style.top=Math.round(t.y-e)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},t.prototype.setZIndex=function(){var e=this.marker_.get("labelInBackground")?-1:1;void 0===this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},t.prototype.setVisible=function(){this.marker_.get("labelVisible")?this.labelDiv_.style.display=this.marker_.getVisible()?"block":"none":this.labelDiv_.style.display="none",this.eventDiv_.style.display=this.labelDiv_.style.display},Z(n,e.Marker),n.prototype.setMap=function(t){e.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(t)},n}(window.$mapApi);s.value=c=new r(t),L.forEach((function(e){c&&c.addListener(e,(function(t){return o.emit(e,t,s.value,a.value)}))})),window.$markerArray.MarkerWithLabel?window.$markerArray.MarkerWithLabel.push(c):window.$markerArray.MarkerWithLabel=[c]}},g=function(){c&&(window.$mapApi&&window.$mapApi.event.clearInstanceListeners(c),c.setMap(null),window.$markerArray.MarkerWithLabel&&window.$markerArray.MarkerWithLabel.length>0&&window.$markerArray.MarkerWithLabel.splice(a,1))};return v((function(){m()})),t((function(){g()})),{marker:s,markerRef:d,markerWithLabel:l,createMarker:m,removeMarker:g}}},U=s("data-v-39e43474");n("data-v-39e43474");var G={ref:"markerRef"};o();var F=U((function(e,t,n,o,s,d){return r(),i("div",null,[a("div",G,[l(e.$slots,"labelContent")],512),l(e.$slots,"default")])}));E("\n\n"),W.render=F,W.__scopeId="data-v-39e43474";var H={name:"InfoWindow",props:{options:{default:function(){return{}},type:Object},show:{default:!1,type:Boolean},index:{default:0,type:Number}},setup:function(t,n){var o=u(t),r=o.options,i=o.show,a=o.index,l=m("$marker"),s=e(null),c=e(null),p=e(null),f=e(null),y=null,b=e(null);v((function(){_()})),g((function(){k(),f.value&&(c.value&&c.value.event.clearInstanceListeners(y),f.value.setMap(null))})),h((function(){return l.marker}),(function(e,t,n){_(),n((function(){k()}))})),h((function(){return i.value}),(function(e,t){e?w():k()}));var _=function(e){if(window.$mapInstance&&window.$mapApi&&l.marker){k(),s.value=window.$mapInstance,c.value=window.$mapApi,p.value=d(l.marker);var t=Object.assign(Object.assign({},r.value,{content:b.value,map:s.value}));f.value=y=new window.$mapApi.InfoWindow(t),O.forEach((function(e){y&&y.addListener(e,(function(t){return n.emit(e,t,f.value,a.value)}))})),i.value&&w()}},w=function(){var e;null!=f&&null!==(e=f.value)&&void 0!==e&&e.open&&f.value.open(s.value,d(l.marker.value))},k=function(){f.value&&f.value.close(),n.emit("close")};return{infoWindow:f,infoWindowRef:b,openInfoWindow:w,closeInfoWindow:k}}},K=s("data-v-1b923dec");n("data-v-1b923dec");var X={ref:"infoWindowRef"};o();var J=K((function(e,t,n,o,s,d){return r(),i("div",null,[a("div",X,[l(e.$slots,"default")],512)])}));E("\n\n"),H.render=J,H.__scopeId="data-v-1b923dec";var Q=c({props:{options:{type:Object,required:!0},index:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,o=u(e),r=o.options,i=o.index,a=d(r.value);return{polyline:R("Polyline",A,a,n,i)}},render:function(){return null}}),Y=c({props:{options:{type:Object,required:!0},index:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,o=u(e),r=o.options,i=o.index;return{polygon:R("Polygon",$,d(r.value),n,i)}},render:function(){return null}}),ee=c({props:{options:{type:Object,required:!0},index:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,o=u(e),r=o.options,i=o.index;return{rectangle:R("Rectangle",I,d(r.value),n,i)}},render:function(){return null}}),te=c({props:{options:{type:Object,required:!0},index:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,o=u(e),r=o.options,i=o.index;return{circle:R("Circle",S,d(r.value),n,i)}},render:function(){return null}}),ne=c({props:{position:{type:String,required:!0},index:{type:Number,required:!0,default:0}},setup:function(n){var o=j(),r=o.map,i=o.api,a=e(null),l=function(e){r.value&&i.value&&(n.index&&(a.value.index=n.index),a.value&&(r.value.controls[i.value.ControlPosition[n.position]].push(a.value),"watch"===e&&a.value.parentNode&&a.value.parentNode.removeChild(a.value)))};return v((function(){l("onMounted")})),t((function(){!function(e){if(r.value&&i.value&&a.value){var t=0;r.value.controls[i.value.ControlPosition[n.position]]&&r.value.controls[i.value.ControlPosition[n.position]].forEach((function(e,n){e===a.value&&(t=n)})),r.value.controls[i.value.ControlPosition[n.position]].getAt(t)&&r.value.controls[i.value.ControlPosition[n.position]].removeAt(t)}}(n.index)})),h([r,function(){return n.position},function(){return n.index}],(function(e,t,n){l("watch")})),{controlRef:a}}}),oe={ref:"controlRef"};ne.render=function(e,t,n,o,a,s){return r(),i("div",oe,[l(e.$slots,"default")],512)};export{te as Circle,ne as CustomControl,N as GoogleMap,H as InfoWindow,V as Marker,W as MarkerWithLabel,Y as Polygon,Q as Polyline,ee as Rectangle};
